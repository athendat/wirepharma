"use strict";(self.webpackChunkwirepharma=self.webpackChunkwirepharma||[]).push([[592],{7231:(v,h,e)=>{e.d(h,{C:()=>r});var _=e(520),a=e(2340),p=e(5e3);const n=a.N.API_URL;let r=(()=>{class o{constructor(i){this._httpClient=i}uploadImage(i,c){const u=new FormData;return u.append("image",c,c.name),this._httpClient.post(`${n}/cloudinary/upload/${i}`,u)}removeImage(i){const c=i.slice(i.indexOf("wirepharma"),i.length).split(".")[0],u=(new _.LE).set("public_id",c);return this._httpClient.delete(`${n}/cloudinary/remove`,{params:u})}}return o.\u0275fac=function(i){return new(i||o)(p.LFG(_.eN))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},6428:(v,h,e)=>{e.d(h,{B:()=>p});const p=(0,e(5094).P1)(n=>n.pagination,n=>n.pagination)},1910:(v,h,e)=>{e.d(h,{Qs:()=>p,UV:()=>n});var _=e(5094);const a=r=>r.merchants,p=(0,_.P1)(a,r=>r.merchant),n=(0,_.P1)(a,r=>r.merchants)},1349:(v,h,e)=>{e.d(h,{N:()=>R});var _=e(1135),a=e(2843),p=e(9646),n=e(5698),r=e(3900),o=e(4004),m=e(8505),i=e(2340),c=e(5e3),u=e(520);const E=i.N.API_URL;let R=(()=>{class d{constructor(t){this._httpClient=t,this._singleRole=new _.X(null),this._roles=new _.X(null),this._permissions=new _.X(null)}get singleRole$(){return this._singleRole.asObservable()}get roles$(){return this._roles.asObservable()}get permissions$(){return this._permissions.asObservable()}createRole(t){return this.roles$.pipe((0,n.q)(1),(0,r.w)(s=>this._httpClient.post(`${E}/roles/`,t).pipe((0,o.U)(l=>(this._roles.next([l.role,...s]),l.role)))))}getRoles(){return this._httpClient.get(`${E}/roles/`).pipe((0,m.b)(t=>{this._roles.next(t.roles)}))}getPermissions(){return this._httpClient.get(`${E}/roles/permissions/`).pipe((0,m.b)(t=>{this._permissions.next(t.permissions)}))}getByUserId(t){return this._httpClient.get(`${E}/users/${t}/roles`).pipe((0,o.U)(s=>s.roles))}getRoleById(t){return this._roles.pipe((0,n.q)(1),(0,o.U)(s=>{const l=s.find(P=>P._id===t)||null;return this._singleRole.next(l),l}),(0,r.w)(s=>s?(0,p.of)(s):(0,a._)("No existe un rol con el:"+t+"!")))}updateRole(t){return this.roles$.pipe((0,n.q)(1),(0,r.w)(s=>this._httpClient.patch(`${E}/roles/${t._id}`,t).pipe((0,o.U)(l=>{const P=s.findIndex(O=>O._id===t._id);return s[P]=l.updatedRole,this._roles.next(s),l.updatedRole}))))}deleteRole(t){return this.roles$.pipe((0,n.q)(1),(0,r.w)(s=>this._httpClient.delete(`${E}/roles/${t} `).pipe((0,o.U)(l=>{const P=s.findIndex(O=>O._id===t);return s.splice(P,1),this._roles.next(s),l}))))}}return d.\u0275fac=function(t){return new(t||d)(c.LFG(u.eN))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);